<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://www.plcopen.org/xml/tc6_0200">
  <fileHeader companyName="Institute of Astronomy" productName="Onto" productVersion="0.0.1" creationDateTime="2024-10-22T16:57:18.797943" />
  <contentHeader name="Tc2_MC2" modificationDateTime="2024-10-22T16:57:18.797943">
    <coordinateInfo>
      <fbd>
        <scaling x="1" y="1" />
      </fbd>
      <ld>
        <scaling x="1" y="1" />
      </ld>
      <sfc>
        <scaling x="1" y="1" />
      </sfc>
    </coordinateInfo>
    <addData>
      <data name="http://www.3s-software.com/plcopenxml/projectinformation" handleUnknown="implementation">
        <ProjectInformation />
      </data>
    </addData>
  </contentHeader>
  <types>
    <dataTypes>
      <dataType name="ST_AxisStatus">
        <baseType>
          <struct>
            <variable name="UpdateTaskIndex">
              <type><BYTE /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Task-Index of the task that updated this data set</xhtml>
              </documentation>
            </variable>
            <variable name="UpdateCycleTime">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Task cycle time of the task which calls the status function</xhtml>
              </documentation>
            </variable>
            <variable name="CycleCounter">
              <type><UDINT /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PLC cycle counter when this data set updated</xhtml>
              </documentation>
            </variable>
            <variable name="NcCycleCounter">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">NC cycle counter incremented after NC task updated NcToPlc data structures</xhtml>
              </documentation>
            </variable>
            <variable name="Error">
              <type><BOOL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis error state</xhtml>
              </documentation>
            </variable>
            <variable name="ErrorId">
              <type><UDINT /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis error code</xhtml>
              </documentation>
            </variable>
            <variable name="Disabled">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Disabled state according to the PLCopen motion control statemachine*)</xhtml>
              </documentation>
            </variable>
            <variable name="ControlLoopClosed">
              <type><BOOL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Is the control loop closed?</xhtml>
              </documentation>
            </variable>
            <variable name="ExtSetPointGenEnabled">
              <type><BOOL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Is the external setpoint generator enabled?</xhtml>
              </documentation>
            </variable>
          </struct>
        </baseType>
      </dataType>
      <dataType name="PLCTONC_AXIS_REF">
        <baseType>
          <struct>
            <variable name="ControlDWord">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Control double word</xhtml>
              </documentation>
            </variable>
            <variable name="Override">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Velocity override</xhtml>
              </documentation>
            </variable>
            <variable name="AxisModeRequest">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis operating mode (PLC request)</xhtml>
              </documentation>
            </variable>
            <variable name="AxisModeDWord">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Optional mode parameter</xhtml>
              </documentation>
            </variable>
            <variable name="AxisModeLReal">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Optional mode parameter</xhtml>
              </documentation>
            </variable>
            <variable name="PositionCorrection">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Correction value for current position</xhtml>
              </documentation>
            </variable>
            <variable name="ExtSetPos">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">External position setpoint</xhtml>
              </documentation>
            </variable>
            <variable name="ExtSetVelo">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">External velocity setpoint</xhtml>
              </documentation>
            </variable>
            <variable name="ExtSetAcc">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">External acceleration setpoint</xhtml>
              </documentation>
            </variable>
            <variable name="ExtSetDirection">
              <type><DINT /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">External direction setpoint</xhtml>
              </documentation>
            </variable>
            <variable name="ExtControllerOutput">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">External controller output</xhtml>
              </documentation>
            </variable>
            <variable name="GearRatio1">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Gear ratio for dynamic multi master coupling modes</xhtml>
              </documentation>
            </variable>
            <variable name="GearRatio2">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Gear ratio for dynamic multi master coupling modes</xhtml>
              </documentation>
            </variable>
            <variable name="GearRatio3">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Gear ratio for dynamic multi master coupling modes</xhtml>
              </documentation>
            </variable>
            <variable name="GearRatio4">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Gear ratio for dynamic multi master coupling modes</xhtml>
              </documentation>
            </variable>
          </struct>
        </baseType>
      </dataType>
      <dataType name="NCTOPLC_AXIS_REF">
        <baseType>
          <struct>
            <variable name="StateDWord">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Status double word</xhtml>
              </documentation>
            </variable>
            <variable name="ErrorCode">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis error code</xhtml>
              </documentation>
            </variable>
            <variable name="AxisState">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis moving status</xhtml>
              </documentation>
            </variable>
            <variable name="AxisModeConfirmation">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis mode confirmation (feedback from NC)</xhtml>
              </documentation>
            </variable>
            <variable name="HomingState">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">State of axis calibration (homing)</xhtml>
              </documentation>
            </variable>
            <variable name="CoupleState">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis coupling state</xhtml>
              </documentation>
            </variable>
            <variable name="SvbEntries">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">SVB entries/orders (SVB = Set preparation task)</xhtml>
              </documentation>
            </variable>
            <variable name="SafEntries">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">SAF entries/orders (SAF = Set execution task)</xhtml>
              </documentation>
            </variable>
            <variable name="AxisId">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis ID</xhtml>
              </documentation>
            </variable>
            <variable name="OpModeDWord">
              <type><DWORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Current operation mode</xhtml>
              </documentation>
            </variable>
            <variable name="ActiveControlLoopIndex">
              <type><WORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Active control loop index</xhtml>
              </documentation>
            </variable>
            <variable name="ControlLoopIndex">
              <type><WORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Axis control loop index (0, 1, 2, when multiple control loops are used)</xhtml>
              </documentation>
            </variable>
            <variable name="ActPos">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Actual position (absolut value from NC)</xhtml>
              </documentation>
            </variable>
            <variable name="ModuloActPos">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">comment : Actual modulo positio</xhtml>
              </documentation>
            </variable>
            <variable name="ModuloActTurns">
              <type><DINT /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Actual modulo turns</xhtml>
              </documentation>
            </variable>
            <variable name="ActVelo">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Actual velocity</xhtml>
              </documentation>
            </variable>
            <variable name="PosDiff">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Position difference (lag distance)</xhtml>
              </documentation>
            </variable>
            <variable name="SetPos">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Setpoint position</xhtml>
              </documentation>
            </variable>
            <variable name="SetVelo">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Setpoint velocity</xhtml>
              </documentation>
            </variable>
            <variable name="SetAcc">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Setpoint acceleration</xhtml>
              </documentation>
            </variable>
            <variable name="TargetPos">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Estimated target position</xhtml>
              </documentation>
            </variable>
            <variable name="ModuloSetPos">
              <type><LREAL /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Setpoint modulo position</xhtml>
              </documentation>
            </variable>
            <variable name="ModuloSetTurns">
              <type><DINT /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Setpoint modulo turns</xhtml>
              </documentation>
            </variable>
            <variable name="CmdNo">
              <type><WORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Continuous actual command number</xhtml>
              </documentation>
            </variable>
            <variable name="CmdState">
              <type><WORD /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Command state</xhtml>
              </documentation>
            </variable>
          </struct>
        </baseType>
      </dataType>
    </dataTypes>
    <pous>
      <pou name="AXIS_REF" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="PlcToNc">
              <type><derived name="PLCTONC_AXIS_REF" /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"></xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="NcToPlc">
              <type><derived name="NCTOPLC_AXIS_REF" /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"></xhtml>
              </documentation>
            </variable>
            <variable name="Status">
              <type><derived name="ST_AxisStatus" /></type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"></xhtml>
              </documentation>
            </variable>
          </outputVars>
          <inOutVars>
          </inOutVars>
          <localVars>
          </localVars>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml"></xhtml>
          </ST>
        </body>
        <addData>
        </addData>
      </pou>
    </pous>
  </types>
  <instances>
    <configurations />
  </instances>
  <addData>
    <data name="http://www.3s-software.com/plcopenxml/projectstructure" handleUnknown="discard">
      <ProjectStructure>
        <Folder Name="Tc2_MC2">
          <Folder Name="Enums">
          </Folder>
          <Folder Name="Statuses">
          </Folder>
          <Folder Name="StateMachines">
            <Folder Name="Parts">
            </Folder>
            <Folder Name="Processes">
            </Folder>
            <Folder Name="Statuses">
            </Folder>
          </Folder>
          <Folder Name="Configs">
          </Folder>
          <Folder Name="Structs">
            <Object Name="ST_AxisStatus">
            </Object>
            <Object Name="PLCTONC_AXIS_REF">
            </Object>
            <Object Name="NCTOPLC_AXIS_REF">
            </Object>
          </Folder>
          <Folder Name="Processes">
            <Folder Name="Args">
            </Folder>
          </Folder>
          <Folder Name="Functionblocks">
            <Object Name="AXIS_REF">
            </Object>
          </Folder>
        </Folder>
      </ProjectStructure>
    </data>
  </addData>
</project>